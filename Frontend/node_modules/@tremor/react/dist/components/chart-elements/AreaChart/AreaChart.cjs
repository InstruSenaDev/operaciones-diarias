'use client';
"use strict";var e=require("tslib"),t=require("react"),a=require("recharts"),o=require("../common/ChartLegend.cjs"),r=require("../common/ChartTooltip.cjs"),l=require("../common/NoData.cjs"),n=require("../common/utils.cjs"),i=require("../../../lib/constants.cjs"),s=require("../../../lib/theme.cjs"),d=require("../../../lib/tremorTwMerge.cjs"),c=require("../../../lib/utils.cjs");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var m=u(t);const p=m.default.forwardRef(((u,p)=>{const{data:y=[],categories:f=[],index:k,stack:g=!1,colors:h=s.themeColorRange,valueFormatter:v=c.defaultValueFormatter,startEndOnly:x=!1,showXAxis:C=!0,showYAxis:b=!0,yAxisWidth:L=56,intervalType:w="equidistantPreserveStart",showAnimation:T=!1,animationDuration:E=900,showTooltip:N=!0,showLegend:A=!0,showGridLines:K=!0,showGradient:j=!0,autoMinValue:O=!1,curveType:G="linear",minValue:D,maxValue:V,connectNulls:q=!1,allowDecimals:F=!0,noDataText:M,className:S,onValueChange:W,enableLegendSlider:P=!1,customTooltip:B,rotateLabelX:X,padding:Y=(!C&&!b||x&&!b?{left:0,right:0}:{left:20,right:20}),tickGap:R=5,xAxisLabel:_,yAxisLabel:z}=u,H=e.__rest(u,["data","categories","index","stack","colors","valueFormatter","startEndOnly","showXAxis","showYAxis","yAxisWidth","intervalType","showAnimation","animationDuration","showTooltip","showLegend","showGridLines","showGradient","autoMinValue","curveType","minValue","maxValue","connectNulls","allowDecimals","noDataText","className","onValueChange","enableLegendSlider","customTooltip","rotateLabelX","padding","tickGap","xAxisLabel","yAxisLabel"]),I=B,[$,J]=t.useState(60),[Q,U]=t.useState(void 0),[Z,ee]=t.useState(void 0),te=n.constructCategoryColors(f,h),ae=n.getYAxisDomain(O,D,V),oe=!!W;function re(e){oe&&(e===Z&&!Q||n.hasOnlyOneValueForThisKey(y,e)&&Q&&Q.dataKey===e?(ee(void 0),null==W||W(null)):(ee(e),null==W||W({eventType:"category",categoryClicked:e})),U(void 0))}return"development"===process.env.NODE_ENV&&console.info("The AreaChart is also available as a copy-and-paste component. Visit https://tremor.so/docs/visualizations/area-chart (This is only shown in development)"),m.default.createElement("div",Object.assign({ref:p,className:d.tremorTwMerge("w-full h-80",S)},H),m.default.createElement(a.ResponsiveContainer,{className:"h-full w-full"},(null==y?void 0:y.length)?m.default.createElement(a.AreaChart,{data:y,onClick:oe&&(Z||Q)?()=>{U(void 0),ee(void 0),null==W||W(null)}:void 0,margin:{bottom:_?30:void 0,left:z?20:void 0,right:z?5:void 0,top:5}},K?m.default.createElement(a.CartesianGrid,{className:d.tremorTwMerge("stroke-1","stroke-tremor-border","dark:stroke-dark-tremor-border"),horizontal:!0,vertical:!1}):null,m.default.createElement(a.XAxis,{padding:Y,hide:!C,dataKey:k,tick:{transform:"translate(0, 6)"},ticks:x?[y[0][k],y[y.length-1][k]]:void 0,fill:"",stroke:"",className:d.tremorTwMerge("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),interval:x?"preserveStartEnd":w,tickLine:!1,axisLine:!1,minTickGap:R,angle:null==X?void 0:X.angle,dy:null==X?void 0:X.verticalShift,height:null==X?void 0:X.xAxisHeight},_&&m.default.createElement(a.Label,{position:"insideBottom",offset:-20,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},_)),m.default.createElement(a.YAxis,{width:L,hide:!b,axisLine:!1,tickLine:!1,type:"number",domain:ae,tick:{transform:"translate(-3, 0)"},fill:"",stroke:"",className:d.tremorTwMerge("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickFormatter:v,allowDecimals:F},z&&m.default.createElement(a.Label,{position:"insideLeft",style:{textAnchor:"middle"},angle:-90,offset:-15,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},z)),m.default.createElement(a.Tooltip,{wrapperStyle:{outline:"none"},isAnimationActive:!1,cursor:{stroke:"#d1d5db",strokeWidth:1},content:N?({active:e,payload:t,label:a})=>I?m.default.createElement(I,{payload:null==t?void 0:t.map((e=>{var t;return Object.assign(Object.assign({},e),{color:null!==(t=te.get(e.dataKey))&&void 0!==t?t:i.BaseColors.Gray})})),active:e,label:a}):m.default.createElement(r.default,{active:e,payload:t,label:a,valueFormatter:v,categoryColors:te}):m.default.createElement(m.default.Fragment,null),position:{y:0}}),A?m.default.createElement(a.Legend,{verticalAlign:"top",height:$,content:({payload:e})=>o({payload:e},te,J,Z,oe?e=>re(e):void 0,P)}):null,f.map((e=>{var t,a;return m.default.createElement("defs",{key:e},j?m.default.createElement("linearGradient",{className:c.getColorClassNames(null!==(t=te.get(e))&&void 0!==t?t:i.BaseColors.Gray,s.colorPalette.text).textColor,id:te.get(e),x1:"0",y1:"0",x2:"0",y2:"1"},m.default.createElement("stop",{offset:"5%",stopColor:"currentColor",stopOpacity:Q||Z&&Z!==e?.15:.4}),m.default.createElement("stop",{offset:"95%",stopColor:"currentColor",stopOpacity:0})):m.default.createElement("linearGradient",{className:c.getColorClassNames(null!==(a=te.get(e))&&void 0!==a?a:i.BaseColors.Gray,s.colorPalette.text).textColor,id:te.get(e),x1:"0",y1:"0",x2:"0",y2:"1"},m.default.createElement("stop",{stopColor:"currentColor",stopOpacity:Q||Z&&Z!==e?.1:.3})))})),f.map((e=>{var o;return m.default.createElement(a.Area,{className:c.getColorClassNames(null!==(o=te.get(e))&&void 0!==o?o:i.BaseColors.Gray,s.colorPalette.text).strokeColor,strokeOpacity:Q||Z&&Z!==e?.3:1,activeDot:e=>{var t;const{cx:o,cy:r,stroke:l,strokeLinecap:u,strokeLinejoin:p,strokeWidth:f,dataKey:k}=e;return m.default.createElement(a.Dot,{className:d.tremorTwMerge("stroke-tremor-background dark:stroke-dark-tremor-background",W?"cursor-pointer":"",c.getColorClassNames(null!==(t=te.get(k))&&void 0!==t?t:i.BaseColors.Gray,s.colorPalette.text).fillColor),cx:o,cy:r,r:5,fill:"",stroke:l,strokeLinecap:u,strokeLinejoin:p,strokeWidth:f,onClick:(t,a)=>function(e,t){t.stopPropagation(),oe&&(e.index===(null==Q?void 0:Q.index)&&e.dataKey===(null==Q?void 0:Q.dataKey)||n.hasOnlyOneValueForThisKey(y,e.dataKey)&&Z&&Z===e.dataKey?(ee(void 0),U(void 0),null==W||W(null)):(ee(e.dataKey),U({index:e.index,dataKey:e.dataKey}),null==W||W(Object.assign({eventType:"dot",categoryClicked:e.dataKey},e.payload))))}(e,a)})},dot:o=>{var r;const{stroke:l,strokeLinecap:u,strokeLinejoin:p,strokeWidth:f,cx:k,cy:g,dataKey:h,index:v}=o;return n.hasOnlyOneValueForThisKey(y,e)&&!(Q||Z&&Z!==e)||(null==Q?void 0:Q.index)===v&&(null==Q?void 0:Q.dataKey)===e?m.default.createElement(a.Dot,{key:v,cx:k,cy:g,r:5,stroke:l,fill:"",strokeLinecap:u,strokeLinejoin:p,strokeWidth:f,className:d.tremorTwMerge("stroke-tremor-background dark:stroke-dark-tremor-background",W?"cursor-pointer":"",c.getColorClassNames(null!==(r=te.get(h))&&void 0!==r?r:i.BaseColors.Gray,s.colorPalette.text).fillColor)}):m.default.createElement(t.Fragment,{key:v})},key:e,name:e,type:G,dataKey:e,stroke:"",fill:`url(#${te.get(e)})`,strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round",isAnimationActive:T,animationDuration:E,stackId:g?"a":void 0,connectNulls:q})})),W?f.map((e=>m.default.createElement(a.Line,{className:d.tremorTwMerge("cursor-pointer"),strokeOpacity:0,key:e,name:e,type:G,dataKey:e,stroke:"transparent",fill:"transparent",legendType:"none",tooltipType:"none",strokeWidth:12,connectNulls:q,onClick:(e,t)=>{t.stopPropagation();const{name:a}=e;re(a)}}))):null):m.default.createElement(l,{noDataText:M})))}));p.displayName="AreaChart",module.exports=p;
