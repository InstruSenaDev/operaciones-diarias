'use client';
import{__rest as e}from"tslib";import t,{useTooltip as o}from"../../util-elements/Tooltip/Tooltip.js";import i,{useEffect as n}from"react";import{useTransition as r}from"react-transition-state";import{HorizontalPositions as s,Sizes as a}from"../../../lib/constants.js";import{tremorTwMerge as l}from"../../../lib/tremorTwMerge.js";import{mergeRefs as m,makeClassName as c}from"../../../lib/utils.js";import d from"../../../assets/LoadingSpinner.js";import{iconSizes as p,getButtonColors as u,getButtonProportions as f}from"./styles.js";const g=c("Button"),h=({loading:e,iconSize:t,iconPosition:o,Icon:n,needMargin:r,transitionStatus:a})=>{const m=r?o===s.Left?l("-ml-1","mr-1.5"):l("-mr-1","ml-1.5"):"",c=l("w-0 h-0"),p={default:c,entering:c,entered:t,exiting:t,exited:c};return e?i.createElement(d,{className:l(g("icon"),"animate-spin shrink-0",m,p.default,p[a]),style:{transition:"width 150ms"}}):i.createElement(n,{className:l(g("icon"),"shrink-0",t,m)})},b=i.forwardRef(((c,d)=>{const{icon:b,iconPosition:v=s.Left,size:w=a.SM,color:x,variant:j="primary",disabled:E,loading:N=!1,loadingText:S,children:y,tooltip:T,className:C}=c,P=e(c,["icon","iconPosition","size","color","variant","disabled","loading","loadingText","children","tooltip","className"]),z=b,B=N||E,k=void 0!==z||N,M=N&&S,R=!(!y&&!M),I=l(p[w].height,p[w].width),L="light"!==j?l("rounded-tremor-default border","shadow-tremor-input","dark:shadow-dark-tremor-input"):"",O=u(j,x),V=f(j)[w],{tooltipProps:D,getReferenceProps:X}=o(300),[Y,_]=r({timeout:50});return n((()=>{_(N)}),[N]),"development"===process.env.NODE_ENV&&console.info("The Button is also available as a copy-and-paste component. Visit https://tremor.so/docs/ui/button (This is only shown in development)"),i.createElement("button",Object.assign({ref:m([d,D.refs.setReference]),className:l(g("root"),"shrink-0 inline-flex justify-center items-center group font-medium outline-none",L,V.paddingX,V.paddingY,V.fontSize,O.textColor,O.bgColor,O.borderColor,O.hoverBorderColor,B?"opacity-50 cursor-not-allowed":l(u(j,x).hoverTextColor,u(j,x).hoverBgColor,u(j,x).hoverBorderColor),C),disabled:B},X,P),i.createElement(t,Object.assign({text:T},D)),k&&v!==s.Right?i.createElement(h,{loading:N,iconSize:I,iconPosition:v,Icon:z,transitionStatus:Y.status,needMargin:R}):null,M||y?i.createElement("span",{className:l(g("text"),"text-tremor-default whitespace-nowrap")},M?S:y):null,k&&v===s.Right?i.createElement(h,{loading:N,iconSize:I,iconPosition:v,Icon:z,transitionStatus:Y.status,needMargin:R}):null)}));b.displayName="Button";export{h as ButtonIconOrSpinner,b as default};
