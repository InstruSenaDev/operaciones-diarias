<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>¿Cómo va mi negocio?</title>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <style>
          .cubo {
            border: 1px solid black;
            height: 966px;
        }

        .cubo1 {
            border: 1px solid #50B165;
            height: 80px;
            background-color: #50B165;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .boton {
            width: 50px;
            height: 50px;
        }

        .butun {
            height: 50px;
        }

        .persona {
            height: 50px;
        }

        .cubo2 {
            display: flex;
            height: 885px;
        }

        .d1 {
            display: none;
            flex-direction: column;
            align-items: center;
            border: 1px solid #50B165;
            height: 884px;
            width: 290px;
            background-color: #50B165;
        }

        .libros {
            border: 1px solid white;
            background-color: white;
            height: 200px;
            width: 250px;
            margin: 10px;
        }

        .mostrarSide {
            display: block;
        }

        .d2 {
            display: flex;
            align-items: center;
            height: 883px;
            width: 330px;
        }

        .pon {
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #50B165;
            background-color: #50B165;
            border-radius: 10px;
            height: 50px;
            width: 50px;
            margin-left: 200px;
            margin-bottom: 200px;
        }

        .flecha {
            width: 30px;
            height: 30px;
        }

        .d3 {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 1248px;
        }

        .año {
            margin-top: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid #50B165;
            background-color: #50B165;
            color: white;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            width: 907px;
            height: 40px;
            font-size: 40px;
            margin-bottom: 3px;
        }

        .como {
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid #50B165;
            background-color: #50B165;
            color: white;
            width: 907px;
            height: 40px;
            font-size: 31px;
        }

        .total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 907px;
            font-size: 31px;
        }

        .uno {
            display: flex;
            justify-content: center;
            align-items: center;
            border-left: 1px solid white;
            border-top-right-radius: 1px solid;
            background-color: #50B165;
            color: white;
            font-size: 15px;
            width: 220px;
            height: 40px;
        }

        .dos {
            display: flex;
            align-items: center;
            justify-content: center;
            border-top-right-radius: 1px solid;
            background-color: #50B165;
            color: white;
            width: 186px;
            height: 40px;
        }

        .tres {
            display: flex;
            justify-content: center;
            align-items: center;
            border-left: 1px solid white;
            background-color: #50B165;
            color: white;
            font-size: 15px;
            width: 220px;
            height: 40px;
        }

        .S{display: flex;
        align-items: center;
        justify-content: center;
        border: 1px solid #50B165;
        width: 907px;
        height: 40px;
        background-color: #50B165;
        color: white;
        font-size: 30px;
        border-bottom-right-radius: 10px;
        border-bottom-left-radius: 10px;
        margin-top: 3px;}

        .cabeza {
           border: 4px solid #29793a; 
           width: 155px;
        }

        .cuerpo{
            border: 4px solid #50B165; 
        }

        .cuenta{ width: 400px;
            height: 300px;
            overflow: hidden;
            margin-top: 500px;
            }
            
            .cuenta iframe {
            width: 100%;
            height: 100%;
            border: none;
             } 

    </style>
</head>

<body>

    <div class="cubo">
        <div class="cubo1">
            <button class:list={['boton']}><img src="../img/boton.PNG" class:list={['butun']}></button>
            <p>Recomendaciones</p>
            <div class:list={['cuenta']}>
            <iframe src="../perfil" frameborder="0"></iframe>
            </div>
        </div>
        <div class="cubo2">
            <div class="d1" id="ostia">
                <div class="libros"></div>
                <div class="libros"></div>
                <div class="libros"></div>
                <div class="libros"></div>
            </div>
            <div class="d2">
                <button class="pon"><img src="../img/flecha.PNG" class="flecha"></button>
            </div>
            <div class="d3">
                <div class:list={['año']} contenteditable="true">año</div>
                    <div class:list={['como']}>¿Cómo va mi negocio?</div>
                <table>
                        <tr>
                            <th class:list={['cabeza']}>MES</th>
                            <th class:list={['cabeza']}>INGRESOS</th>
                            <th class:list={['cabeza']}>COMPRAS</th>
                            <th class:list={['cabeza']}>GASTOS</th>
                            <th class:list={['cabeza']}>UTILIDAD</th>
                        </tr>
                    
                        <tr>
                            <td class:list={['cuerpo']}>ENERO</td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto ingresos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto compras"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto gastos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto utilidad"></td>
                        </tr>

                        <tr>
                            <td class:list={['cuerpo']}>FEBRERO</td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto ingresos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto compras"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto gastos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto utilidad"></td>
                        </tr>

                        <tr>
                            <td class:list={['cuerpo']}>MARZO</td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto ingresos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto compras"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto gastos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto utilidad"></td>
                        </tr>

                        <tr>
                            <td class:list={['cuerpo']}>ABRIL</td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto ingresos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto compras"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto gastos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto utilidad"></td>
                        </tr>

                        <tr>
                            <td class:list={['cuerpo']}>MAYO</td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto ingresos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto compras"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto gastos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto utilidad"></td>
                        </tr>

                        <tr>
                            <td class:list={['cuerpo']}>JUNIO</td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto ingresos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto compras"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto gastos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto utilidad"></td>
                        </tr>

                        <tr>
                            <td class:list={['cuerpo']}>JULIO</td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto ingresos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto compras"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto gastos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto utilidad"></td>
                        </tr>

                        <tr>
                            <td class:list={['cuerpo']}>AGOSTO</td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto ingresos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto compras"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto gastos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto utilidad"></td>
                        </tr>

                        <tr>
                            <td class:list={['cuerpo']}>SEPTIEMBRE</td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto ingresos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto compras"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto gastos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto utilidad"></td>
                        </tr>

                        <tr>
                            <td class:list={['cuerpo']}>OCTUBRE</td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto ingresos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto compras"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto gastos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto utilidad"></td>
                        </tr>

                        <tr>
                            <td class:list={['cuerpo']}>NOVIEMBRE</td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto ingresos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto compras"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto gastos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto utilidad"></td>
                        </tr>

                        <tr>
                            <td class:list={['cuerpo']}>DICIEMBRE</td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto ingresos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto compras"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto gastos"></td>
                            <td class:list={['cuerpo']}><input type="number" value="" class="monto utilidad"></td>
                        </tr>

                </table>
            <div class:list={['total']}>
                <div class:list={['dos']}>TOTAL</div>
                <div class:list={['uno']} id="total_ingresos"></div>
                <div class:list={['uno']} id="total_compras"></div>
                <div class:list={['uno']} id="total_gastos"></div>
                <div class:list={['tres']} id="total_utilidad"></div>
            </div>
            <div class:list={['S']} id="total_sumatoria"></div>
            </div>
        </div>
    </div>

    <script>


var clic = 1;
const boton = document.querySelector(".boton");
const sideBar = document.querySelector("#ostia");
boton?.addEventListener("click", ()=>{
    sideBar?.classList.toggle("mostrarSide");
})

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

function redirect()
    {
    window.location.href="http://localhost:4321/perfil";
    }



//////////////////////////////////////////////////////////////////////////////////////////////////////////////

        document.addEventListener('DOMContentLoaded', function () {
            // Función para calcular el total de una columna específica
            function calcularTotal(columna) {
                let total = 0;
                // Obtener todos los elementos de la columna especificada
                let elementos = document.querySelectorAll(`.${columna}`);
                elementos.forEach(elemento => {
                    if (elemento instanceof HTMLInputElement) {
                        total += parseFloat(elemento.value) || 0;
                    }
                });
                return total;
            }

            // Función para actualizar el resultado de una columna específica
            function actualizarResultado(columna, idResultado) {
                let total = calcularTotal(columna);
                let resultadoElemento = document.getElementById(idResultado);
                if (resultadoElemento) {
                    resultadoElemento.textContent = total.toFixed(0);
                }
            }

            // Agregar eventos input a cada columna
            ['ingresos', 'compras', 'gastos', 'utilidad'].forEach(columna => {
                let inputs = document.querySelectorAll(`.${columna}`);
                inputs.forEach(input => {
                    input.addEventListener('input', () => {
                        actualizarResultado(columna, `total_${columna}`);
                    });
                });
            });

            ['ingresos', 'compras', 'gastos', 'utilidad'].forEach(columna => {
                let inputs = document.querySelectorAll(`.${columna}`);
                inputs.forEach(input => {
                    input.addEventListener('input', () => {
                        let ingresos = calcularTotal('ingresos');
                        let compras = calcularTotal('compras');
                        let gastos = calcularTotal('gastos');
                        let utilidad = calcularTotal('utilidad');
                        let sumatoria = (ingresos + utilidad) + (compras + gastos);
                        document.getElementById('total_sumatoria')!.textContent = sumatoria.toFixed(0);
                    });
                });
            });
        });
    </script>

</body>

</html>
